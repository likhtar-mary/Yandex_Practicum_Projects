# Выбор локации для скважины

## Описание проекта

Добывающей компании «ГлавРосГосНефть» нужно решить, где бурить новую скважину.

Для решения данной задачи предоставлены пробы нефти в трёх регионах: в каждом 100 000 месторождений, где измерили качество нефти и объём её запасов. 

**Задача:** построить модель машинного обучения, которая поможет определить регион, где добыча принесёт наибольшую прибыль. 

Анализ, расчет возможной прибыли и рисков будет выполнен техникой *Bootstrap.*

**Шаги для выбора локации:**

- В избранном регионе ищут месторождения, для каждого определяют значения признаков;
- Строят модель и оценивают объём запасов;
- Выбирают месторождения с самым высокими оценками значений. Количество месторождений зависит от бюджета компании и стоимости разработки одной скважины;
- Прибыль равна суммарной прибыли отобранных месторождений.

**Условия задачи:**
- Для обучения модели подходит только линейная регрессия (остальные — недостаточно предсказуемые).
- При разведке региона исследуют 500 точек, из которых с помощью машинного обучения выбирают 200 лучших для разработки.
- Бюджет на разработку скважин в регионе — 10 млрд рублей.
- При нынешних ценах один баррель сырья приносит 450 рублей дохода. Доход с каждой единицы продукта составляет 450 тыс. рублей, поскольку объём указан в тысячах баррелей.
- После оценки рисков нужно оставить лишь те регионы, в которых вероятность убытков меньше 2.5%. Среди них выбирают регион с наибольшей средней прибылью.

Данные синтетические: детали контрактов и характеристики месторождений не разглашаются.

## Вывод

1. **На этапе загрузки и подготовки данных было выполнено**:
   - загружены файлы и сохранены в датафреймы по трем регионам геологоразведки;
   - выведена информация о датафремах;
   - проведена предобработка данных;
   - проведен анализ данных:
      - статистика числовых значений;
      - построены гистограммы;
      - построена матрица корреляции;
      - построена тепловая карта;
      - подготовка данных.
   
2. **На этапе обучения и проверки модели было выполнено**:
   - Разделены данные на обучающую и валидационную выборки в соотношении 75:25.
   - Обучена модель линейной регрессии и сделаны предсказания на валидационной выборке.
   - Рассчитан средний запас фактического и предсказанного моделью сырья, RMSE модели.

3. **На этапе подготовки к расчету прибыли было выполнено**:
   - Ключевые значения для расчетов сохранены в отдельных константах Python (согласно PEP 8) - взяты из условия задачи.
   - Рассчитан минимальный объем сырья в скважине для безубыточной разработки: 111.11 тыс. баррелей (единиц продукта).
   - Рассчитаны средние запасы в скважинах по каждому региону, проведено сравнение с минимальным объемом сырья для безубыточной разработки. 

4. **На этапе расчета прибыли и рисков было выполнено**:
   - Создана функция для расчета прибыли по выбранным скважинам и предсказаниям модели (минус инвестиции).
   - Применена техника Bootstrap c 1000 выборок, чтобы найти распределение прибыли. Найдена средняя прибыль, 95%-й доверительный интервал и риск убытков (отрицательная прибыль). Для этого создана функция.
   - Рассчитаны основные параметры при помощи функций для трех регионов.
   - Визуализировано распределение прибыли для каждого региона.

На основании полученных данных определен наиболее привлекательный для разработки регион.
